(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{204:function(t,n,e){var o=e(379);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e(12)(o,a);o.locals&&(t.exports=o.locals)},378:function(t,n,e){"use strict";var o=e(204);e.n(o).a},379:function(t,n,e){(t.exports=e(11)(!1)).push([t.i,"\n.sembunyi[data-v-7a019f66] {\n    display: none;\n}\n.tampil[data-v-7a019f66] {\n    display: block;\n}\n.list-barang[data-v-7a019f66]{\n    background-color:white;\n    position:relative;\n    left:0px;\n    bottom:30px;\n    width:100%;\n    -webkit-box-shadow: 4px 6px 5px -4px rgba(0,0,0,0.75);\n    -moz-box-shadow: 4px 6px 5px -4px rgba(0,0,0,0.75);\n    box-shadow: 4px 6px 5px -4px rgba(0,0,0,0.75);\n    z-index: 100;\n}\n.list-barang ul li[data-v-7a019f66] {\n\n    padding-top: 15px;\n    padding-bottom: 15px;\n    padding-left: 10px;\n}\n.list-barang ul[data-v-7a019f66] {\n    list-style: none;\n    padding: 0px;\n}\n.list-barang ul li[data-v-7a019f66]:hover {\n    cursor:pointer;\n     background-color:rgb(233, 233, 233);\n}\n",""])},387:function(t,n,e){"use strict";e.r(n);var o=e(18),a=e.n(o),r=e(13),i=e(53);function s(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function l(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function c(t,n,e,o,a,r,i){try{var s=t[r](i),l=s.value}catch(t){return void e(t)}s.done?n(l):Promise.resolve(l).then(o,a)}var u,d,p={name:"aktivasi.create",mixins:[{data:function(){return{valid:!0,lazy:!1,loading:!1,book:"",total:0,books:[],nameRules:[function(t){return!!t||"Tidak Boleh Kosong"}],totalRules:[function(t){return!!t||"Harus diisi"},function(t){return/^[0-9,]+$/.test(t)||"Format salah"},function(t){return t.split(",").join("")<=1e4||"Tidak boleh lebih dari 10 ribu"}]}},methods:function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?s(Object(e),!0).forEach((function(n){l(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},Object(r.b)({setSnakbar:"snakbar/setSnakbar"}),{getBook:function(){var t=this;this.axios.get("books/create?keyword="+this.book,this.config).then((function(n){t.books=n.data.data})).catch((function(t){return console.log(t)}))},formatAsCurrency:function(t,n){return n=n||0,null===t?null:""+t.toFixed(n).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},select_book:function(t){this.book=t,this.books=[]}}),computed:{total_convert:{get:function(){return this.formatAsCurrency(this.total,0)},set:function(t){this.total=Number(t.replace(/[^0-9\.]/g,""))}}},mixins:[i.a],created:function(){}}],methods:{save:(u=a.a.mark((function t(){var n,e,o,r=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,n="/"+(n=(n=window.location.pathname).split("/"))[1],e=new FormData,o=this.book.split("-"),e.append("total",this.total),e.append("kode_buku",o[0]),t.next=10,this.axios.post(n,e,this.config).then((function(t){console.log(t),r.setSnakbar({status:!0,pesan:t.data.message,color_snakbar:"success"}),r.$router.push(n)})).catch((function(t){400==t.response.status?r.setSnakbar({color_snakbar:"red",status:!0,pesan:t.response.data.message}):r.setSnakbar({status:!0,color_snakbar:"red",pesan:"Terjadi Kesalahan"}),console.log(t.response)}));case 10:this.loading=!1;case 11:case"end":return t.stop()}}),t,this)})),d=function(){var t=this,n=arguments;return new Promise((function(e,o){var a=u.apply(t,n);function r(t){c(a,e,o,r,i,"next",t)}function i(t){c(a,e,o,r,i,"throw",t)}r(void 0)}))},function(){return d.apply(this,arguments)})}},b=(e(378),e(19)),v=Object(b.a)(p,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-app",[e("v-container",[e("BtnJudul",{attrs:{text:"Tambah Aktvasi"}}),t._v(" "),e("v-card",{style:t.border,attrs:{tile:""}},[e("v-card-text",[e("v-container",[e("v-form",{ref:"form",attrs:{"lazy-validation":t.lazy},model:{value:t.valid,callback:function(n){t.valid=n},expression:"valid"}},[e("label",{attrs:{for:"",align:"left"}},[t._v("Buku Baru")]),t._v(" "),e("div",{staticStyle:{position:"relative",width:"100%"}},[e("v-text-field",{staticStyle:{position:"relative"},attrs:{outlined:"",rules:t.nameRules,label:"Nama buku",required:""},on:{keyup:t.getBook},model:{value:t.book,callback:function(n){t.book=n},expression:"book"}}),t._v(" "),t.books.length>0?e("div",{staticClass:"list-barang"},[e("ul",t._l(t.books,(function(n){return e("li",{key:n.id,on:{click:function(e){return t.select_book(n.kode+" - "+n.judul)}}},[t._v(t._s(n.kode)+" - "+t._s(n.judul))])})),0)]):t._e()],1),t._v(" "),e("v-text-field",{attrs:{outlined:"",rules:t.totalRules,label:"Total Aktivasi",required:""},model:{value:t.total_convert,callback:function(n){t.total_convert=n},expression:"total_convert"}}),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"12",align:"right"}},[e("v-btn",{staticStyle:{color:"white !important"},attrs:{disabled:t.loading,color:"red",tile:""},on:{click:function(n){return t.$router.go(-1)}}},[t._v("\n                            Batal\n                            ")]),t._v(" "),e("v-btn",{attrs:{disabled:!t.valid,color:"success",tile:"",loading:t.loading},on:{click:function(n){return t.save()}}},[t._v("\n                            Simpan\n                            ")])],1)],1)],1)],1)],1),t._v(" "),e("v-card-actions",{})],1)],1)],1)}),[],!1,null,"7a019f66",null);n.default=v.exports}}]);