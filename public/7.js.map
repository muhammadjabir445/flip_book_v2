{"version":3,"sources":["webpack:///./resources/js/mixins/Wyswig.js","webpack:///./resources/js/mixins/BookMixins.js","webpack:///./resources/js/views/books/edit.vue?e4a2","webpack:///resources/js/views/books/edit.vue","webpack:///./resources/js/views/books/edit.vue?1277","webpack:///./resources/js/views/books/edit.vue"],"names":["components","TiptapVuetify","data","extensions","History","Blockquote","Link","Underline","Strike","Italic","ListItem","BulletList","OrderedList","Heading","options","levels","Bold","Code","HorizontalRule","Paragraph","HardBreak","pdfjs","require","GlobalWorkerOptions","workerSrc","pdfjsWorker","valid","lazy","loading","judul","deskripsi","file","penerbit","pdf_url","totalPage","categori","id","description","id_categori","nameRules","v","index_edit_deskripsi","tab","deskrip","title","DataDialog","kode","methods","mapActions","setSnakbar","tambah","this","splice","push","cancle","edit","index_edit","find","_","index","hapus","eventChange","event","files","target","fileReader","FileReader","typedarray","Uint8Array","result","getDocument","promise","then","doc","console","log","numPages","document","getElementById","innerText","onload","readAsArrayBuffer","get_categori","axios","get","config","ress","window","location","pathname","forEach","element","mixins","middleware","wyswig","computed","backgroundColor","color","created","status","pesan","color_snakbar","component","_vm","_h","$createElement","_c","_self","attrs","_v","style","ref","model","value","callback","$$v","expression","staticStyle","_s","on","$event","length","staticClass","_l","item","key","domProps","_e","save","$set"],"mappings":"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","file":"7.js","sourcesContent":["import { TiptapVuetify, Heading, Bold, Italic, Strike, Underline, Code, Paragraph, BulletList, OrderedList, ListItem, Link, Blockquote, HardBreak, HorizontalRule, History } from 'tiptap-vuetify'\n\nexport default {\n  // specify TiptapVuetify component in \"components\"\n  components: { TiptapVuetify },\n  data: () => ({\n    // declare extensions you want to use\n    extensions: [\n      History,\n      Blockquote,\n      Link,\n      Underline,\n      Strike,\n      Italic,\n      ListItem,\n      BulletList,\n      OrderedList,\n      [Heading, {\n        options: {\n          levels: [1, 2, 3]\n        }\n      }],\n      Bold,\n      Code,\n      HorizontalRule,\n      Paragraph,\n      HardBreak\n    ],\n\n  })\n}\n","\nconst pdfjs = require('pdfjs-dist/build/pdf')\nconst pdfjsworker = require('pdfjs-dist/build/pdf.worker.entry')\npdfjs.GlobalWorkerOptions.workerSrc = pdfjsWorker;\n\nimport {mapActions} from 'vuex'\nimport middleware from './middleware'\nimport wyswig from './Wyswig'\nexport default {\n    data: () => ({\n        valid: true,\n        lazy:false,\n        loading:false,\n        judul:\"\",\n        deskripsi:[],\n        file:\"\",\n        penerbit:\"\",\n        pdf_url:'',\n        totalPage:'',\n        categori:[\n            {\n                id:'',\n                description:'all'\n            }\n        ],\n        id_categori:'',\n        nameRules: [\n          v => !!v || 'Tidak Boleh Kosong',\n        ],\n        index_edit_deskripsi:null,\n        tab: null,\n        deskrip:{\n            title:'',\n            deskripsi:''\n        },\n        DataDialog:false,\n        kode:''\n\n      }),\n    methods: {\n        ...mapActions({\n            setSnakbar: 'snakbar/setSnakbar'\n        }),\n\n        tambah() {\n            if(this.index_edit_deskripsi != null) {\n                this.deskripsi.splice(this.index_edit_deskripsi,1,this.deskrip)\n            } else {\n                this.deskripsi.push({\n                    deskripsi: this.deskrip.deskripsi,\n                    title: this.deskrip.title\n                })\n            }\n\n\n            this.cancle()\n        },\n\n        edit(index_edit) {\n            this.index_edit_deskripsi = index_edit\n\n            this.deskrip = this.deskripsi.find((_,index) => index === index_edit)\n            this.DataDialog = true\n        },\n\n        cancle() {\n            this.deskrip = {\n                title: '',\n                deskripsi: ''\n            }\n            this.index_edit_deskripsi = null\n            this.DataDialog = false\n        },\n        hapus(index) {\n            this.deskripsi.splice(index,1)\n        },\n        async eventChange(event){\n            const files = event.target.files\n             this.file = files[0]\n              const fileReader = new FileReader()\n\n\n            fileReader.onload = await function() {\n\n                //Step 4:turn array buffer into typed array\n                var typedarray = new Uint8Array(this.result);\n\n                //Step 5:PDFJS should be able to read this\n                let loadingTask = pdfjs.getDocument(typedarray)\n                loadingTask.promise.then((doc) => {\n                    console.log(doc.numPages)\n                    let html = document.getElementById('dataPages')\n                    html.innerText = doc.numPages\n                })\n\n\n            };\n            //Step 3:Read the file as ArrayBuffer\n            await fileReader.readAsArrayBuffer(this.file);\n        },\n\n        get_categori(){\n            this.axios.get('books/category',this.config)\n            .then((ress) => {\n                if (window.location.pathname == '/books' || window.location.pathname == '/books-list') {\n                    ress.data.forEach(element => {\n                        this.categori.push({\n                            id:element.id,\n                            description:element.description,\n                        })\n                    });\n                } else {\n                    this.categori = ress.data\n                }\n\n            })\n        }\n\n    },\n\n    mixins:[middleware,wyswig],\n    computed: {\n        backgroundColor(){\n            return `background-color:${this.color}`\n        },\n    },\n\n    created(){\n\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-container',[_c('BtnJudul',{attrs:{\"text\":\"Edit Buku\"}}),_vm._v(\" \"),_c('v-card',{style:(_vm.border),attrs:{\"tile\":\"\"}},[_c('v-card-text',[_c('v-container',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":_vm.lazy},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('label',{attrs:{\"for\":\"\",\"align\":\"left\"}},[_vm._v(\"Buku Baru\")]),_vm._v(\" \"),_c('v-text-field',{attrs:{\"rules\":_vm.nameRules,\"label\":\"Kode buku\",\"required\":\"\"},model:{value:(_vm.kode),callback:function ($$v) {_vm.kode=$$v},expression:\"kode\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"rules\":_vm.nameRules,\"label\":\"Judul buku\",\"required\":\"\"},model:{value:(_vm.judul),callback:function ($$v) {_vm.judul=$$v},expression:\"judul\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"rules\":_vm.nameRules,\"label\":\"Penerbit\",\"required\":\"\"},model:{value:(_vm.penerbit),callback:function ($$v) {_vm.penerbit=$$v},expression:\"penerbit\"}}),_vm._v(\" \"),_c('v-select',{attrs:{\"items\":_vm.categori,\"rules\":[function (v) { return !!v || 'Item is required'; }],\"label\":\"Kategori\",\"item-text\":\"description\",\"item-value\":\"id\",\"required\":\"\"},model:{value:(_vm.id_categori),callback:function ($$v) {_vm.id_categori=$$v},expression:\"id_categori\"}}),_vm._v(\" \"),_c('p',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"dataPages\"}},[_vm._v(_vm._s(_vm.totalPage))]),_vm._v(\" \"),_c('input',{ref:\"foto_profile\",attrs:{\"type\":\"file\",\"id\":\"foto_profile\",\"accept\":\"\"},on:{\"change\":_vm.eventChange}}),_vm._v(\" \"),_c('small',[_vm._v(\"Kosongkan jika tidak ganti file\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"success\",\"depressed\":\"\",\"small\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.DataDialog=true}}},[_vm._v(\"\\n                                Tambah Deskripsi\\n                    \")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('br'),_vm._v(\" \"),(_vm.deskripsi.length > 0)?_c('div',{staticClass:\"tab-deskripsi\"},[_c('v-tabs',{attrs:{\"background-color\":\"cyan\",\"dark\":\"\",\"next-icon\":\"mdi-arrow-right-bold-box-outline\",\"prev-icon\":\"mdi-arrow-left-bold-box-outline\",\"show-arrows\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"yellow\"}}),_vm._v(\" \"),_vm._l((_vm.deskripsi),function(item,index){return _c('v-tab',{key:index},[_vm._v(\"\\n                            \"+_vm._s(item.title)+\"\\n                        \")])})],2),_vm._v(\" \"),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.deskripsi),function(item,index){return _c('v-tab-item',{key:index},[_c('v-card',[_c('v-card-text',{staticStyle:{\"position\":\"relative\"},domProps:{\"innerHTML\":_vm._s(item.deskripsi)}}),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"top\":\"0px\",\"right\":\"0px\"}},[_c('v-btn',{attrs:{\"depressed\":\"\",\"dark\":\"\",\"x-small\":\"\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.edit(index)}}},[_c('v-icon',{attrs:{\"dark\":\"\",\"small\":\"\"}},[_vm._v(\"fal fa-pencil\")])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"depressed\":\"\",\"dark\":\"\",\"x-small\":\"\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.hapus(index)}}},[_c('v-icon',{attrs:{\"dark\":\"\",\"small\":\"\"}},[_vm._v(\"fal fa-trash\")])],1)],1)],1)],1)}),1)],1):_vm._e(),_vm._v(\" \"),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"align\":\"right\"}},[_c('v-btn',{attrs:{\"disabled\":!_vm.valid,\"color\":\"success\",\"tile\":\"\",\"loading\":_vm.loading},on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\"\\n                            Simpan\\n                            \")])],1)],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',{})],1)],1),_vm._v(\" \"),_c('v-dialog',{attrs:{\"width\":\"650\"},model:{value:(_vm.DataDialog),callback:function ($$v) {_vm.DataDialog=$$v},expression:\"DataDialog\"}},[_c('v-card',{attrs:{\"tile\":\"\"}},[_c('v-card-title',{staticClass:\"white--text\",style:(_vm.backgroundColor),attrs:{\"primary-title\":\"\"}},[_vm._v(\"\\n      Tambah deskripsi\\n    \")]),_vm._v(\" \"),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"Title\",\"required\":\"\"},model:{value:(_vm.deskrip.title),callback:function ($$v) {_vm.$set(_vm.deskrip, \"title\", $$v)},expression:\"deskrip.title\"}}),_vm._v(\" \"),_c('tiptap-vuetify',{attrs:{\"extensions\":_vm.extensions},model:{value:(_vm.deskrip.deskripsi),callback:function ($$v) {_vm.$set(_vm.deskrip, \"deskripsi\", $$v)},expression:\"deskrip.deskripsi\"}})],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"red\",\"tile\":\"\"},on:{\"click\":function($event){return _vm.cancle()}}},[_vm._v(\"\\n        Cancel\\n      \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"success\",\"tile\":\"\"},on:{\"click\":function($event){return _vm.tambah()}}},[_vm._v(\"\\n        Save\\n      \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-app>\n        <v-container>\n            <BtnJudul text=\"Edit Buku\"/>\n\n            <v-card\n            :style=\"border\"\n            tile\n            >\n                <!-- <v-card-text class=\"text-center\"> -->\n                <v-card-text>\n                    <v-container>\n                        <v-form\n                        ref=\"form\"\n                        v-model=\"valid\"\n                        :lazy-validation=\"lazy\"\n                        >\n                        <label for=\"\" align=\"left\">Buku Baru</label>\n\n                          <v-text-field\n                        v-model=\"kode\"\n                        :rules=\"nameRules\"\n                        label=\"Kode buku\"\n                        required\n                        ></v-text-field>\n\n                        <v-text-field\n                        v-model=\"judul\"\n                        :rules=\"nameRules\"\n                        label=\"Judul buku\"\n                        required\n                        ></v-text-field>\n\n                        <v-text-field\n                        v-model=\"penerbit\"\n                        :rules=\"nameRules\"\n                        label=\"Penerbit\"\n                        required\n                        ></v-text-field>\n\n                         <v-select\n                            v-model=\"id_categori\"\n                            :items=\"categori\"\n                            :rules=\"[v => !!v || 'Item is required']\"\n                            label=\"Kategori\"\n                            item-text=\"description\"\n                            item-value=\"id\"\n                            required\n                        ></v-select>\n\n                        <p id=\"dataPages\" style=\"display:none\">{{totalPage}}</p>\n\n                        <input type=\"file\" id=\"foto_profile\" ref=\"foto_profile\" accept=\"\" @change=\"eventChange\"> <small>Kosongkan jika tidak ganti file</small>\n                        <br>\n                        <br>\n                        <v-btn color=\"success\" depressed small dark @click=\"DataDialog=true\" >\n                                    Tambah Deskripsi\n                        </v-btn>\n\n                        <br>\n                        <br>\n                        <div class=\"tab-deskripsi\" v-if=\"deskripsi.length > 0\">\n                            <v-tabs\n                            background-color=\"cyan\"\n                            dark\n                            v-model=\"tab\"\n                            next-icon=\"mdi-arrow-right-bold-box-outline\"\n                            prev-icon=\"mdi-arrow-left-bold-box-outline\"\n                            show-arrows\n                            >\n                            <v-tabs-slider color=\"yellow\"></v-tabs-slider>\n                            <v-tab\n\n                                v-for=\"(item,index) in deskripsi\"\n                                :key=\"index\"\n                            >\n                                {{ item.title }}\n                            </v-tab>\n                            </v-tabs>\n\n\n                            <v-tabs-items v-model=\"tab\">\n                                <v-tab-item\n                                    v-for=\"(item,index) in deskripsi\"\n                                    :key=\"index\"\n                                >\n                                    <v-card>\n                                    <v-card-text v-html=\"item.deskripsi\" style=\"position:relative\">\n\n\n                                    </v-card-text>\n                                    <div style=\"position:absolute;top:0px;right:0px;\">\n                                         <v-btn @click=\"edit(index)\" depressed dark x-small color=\"success\">\n                                                <v-icon dark small>fal fa-pencil</v-icon>\n                                        </v-btn>\n                                         <v-btn @click=\"hapus(index)\" depressed dark x-small color=\"red\">\n                                                <v-icon dark small>fal fa-trash</v-icon>\n                                        </v-btn>\n                                    </div>\n\n                                    </v-card>\n                                </v-tab-item>\n                            </v-tabs-items>\n\n                        </div>\n\n                        <v-row>\n                            <v-col\n                            cols=\"12\"\n                            align=\"right\"\n                            >\n                              <v-btn\n                                :disabled=\"!valid\"\n                                color=\"success\"\n                                tile\n                                @click=\"save()\"\n                                :loading=\"loading\"\n                                >\n                                Simpan\n                                </v-btn>\n                            </v-col>\n                        </v-row>\n\n                    </v-form>\n                    </v-container>\n\n                </v-card-text>\n\n                <v-card-actions class=\"\">\n\n                </v-card-actions>\n            </v-card>\n        </v-container>\n\n    <v-dialog\n      v-model=\"DataDialog\"\n      width=\"650\"\n    >\n      <v-card\n      tile\n      >\n        <v-card-title\n          class=\"white--text\"\n          :style=\"backgroundColor\"\n          primary-title\n        >\n          Tambah deskripsi\n        </v-card-title>\n\n        <v-card-text>\n\n\n\n                <v-text-field\n                v-model=\"deskrip.title\"\n                label=\"Title\"\n                required\n                ></v-text-field>\n\n                <tiptap-vuetify\n                v-model=\"deskrip.deskripsi\"\n                :extensions=\"extensions\"\n                />\n        </v-card-text>\n\n        <v-divider></v-divider>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"red\"\n            tile\n            class=\"white--text\"\n            @click=\"cancle()\"\n          >\n            Cancel\n          </v-btn>\n\n           <v-btn\n            color=\"success\"\n            tile\n            @click=\"tambah()\"\n          >\n            Save\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    </v-app>\n\n</template>\n<script>\n// import {mapActions} from 'vuex'\nimport BookMixins from '../../mixins/BookMixins'\nexport default {\n    name: 'masterdata.edit',\n\n    mixins:[BookMixins],\n    methods:{\n        async save(){\n            this.totalPage = document.getElementById('dataPages').textContent\n            this.loading = true\n            let url = window.location.pathname\n            url = url.split('/')\n            url = `${url[1]}/${url[2]}`\n            let data = new FormData()\n           data.append('judul',this.judul)\n            data.append('penerbit',this.penerbit)\n            data.append('file',this.file)\n            data.append('kode',this.kode)\n            data.append('pages',this.totalPage)\n            data.append('id_categori',this.id_categori)\n            data.append('deskripsi' , JSON.stringify(this.deskripsi))\n            data.append('_method','PUT')\n\n            await this.axios.post(url,data,this.config)\n            .then((ress) => {\n                console.log(ress)\n                this.setSnakbar({\n                    status:true,\n                    pesan:ress.data.message,\n                    color_snakbar:'success'\n                })\n                this.$router.go(-1)\n            })\n            .catch((err)=>{\n                if (err.response.status == 400 ) {\n                    this.setSnakbar({\n                    color_snakbar:'red',\n                    status:true,\n                    pesan:err.response.data.message,\n                    })\n                }else{\n                    this.setSnakbar({\n                    status:true,\n                    color_snakbar:'red',\n                    pesan:\"Terjadi Kesalahan\",\n                    })\n                }\n\n                console.log(err.response)\n            })\n            this.loading = false\n\n        },\n\n        go(){\n         let url = window.location.pathname\n         this.axios.get(url,this.config)\n         .then((ress) => {\n             let book = ress.data.book\n             this.judul = book.judul\n             this.kode = book.kode\n             this.penerbit = book.penerbit\n             this.deskripsi = book.deskripsi\n             this.totalPage = book.pages\n         })\n         .catch((err) => console.log(err.response))\n        }\n\n    },\n\n    created(){\n        this.go()\n    }\n\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=429d350d&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}