(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{189:function(t,e,i){"use strict";var r=i(74);e.a={components:{TiptapVuetify:r.o},data:function(){return{extensions:[r.g,r.a,r.j,r.q,r.n,r.i,r.k,r.c,r.l,[r.f,{options:{levels:[1,2,3]}}],r.b,r.d,r.h,r.m,r.e]}}}},203:function(t,e,i){"use strict";var r=i(18),n=i.n(r),a=i(13),s=i(53),o=i(189);function l(t,e,i,r,n,a,s){try{var o=t[a](s),l=o.value}catch(t){return void i(t)}o.done?e(l):Promise.resolve(l).then(r,n)}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var d,p,v=i(340);i(346);v.GlobalWorkerOptions.workerSrc=pdfjsWorker,e.a={data:function(){return{valid:!0,lazy:!1,loading:!1,judul:"",deskripsi:[],file:"",penerbit:"",foto:"",pdf_url:"",totalPage:"",harga:0,hargaRules:[function(t){return!!t||"Harus diisi"},function(t){return/^[0-9,]+$/.test(t)||"Format salah"},function(t){return t.split(",").join("")<=1e8||"Tidak boleh lebih dari 100 juta"}],categori:[{id:"",description:"all"}],id_categori:"",nameRules:[function(t){return!!t||"Tidak Boleh Kosong"}],index_edit_deskripsi:null,tab:null,deskrip:{title:"",deskripsi:""},DataDialog:!1,kode:""}},methods:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(a.b)({setSnakbar:"snakbar/setSnakbar"}),{tambah:function(){null!=this.index_edit_deskripsi?this.deskripsi.splice(this.index_edit_deskripsi,1,this.deskrip):this.deskripsi.push({deskripsi:this.deskrip.deskripsi,title:this.deskrip.title}),this.cancle()},edit:function(t){this.index_edit_deskripsi=t,this.deskrip=this.deskripsi.find((function(e,i){return i===t})),this.DataDialog=!0},cancle:function(){this.deskrip={title:"",deskripsi:""},this.index_edit_deskripsi=null,this.DataDialog=!1},hapus:function(t){this.deskripsi.splice(t,1)},eventChange:(d=n.a.mark((function t(e){var i,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.target.files,this.file=i[0],r=new FileReader,t.next=5,function(){var t=new Uint8Array(this.result);v.getDocument(t).promise.then((function(t){console.log(t.numPages),document.getElementById("dataPages").innerText=t.numPages}))};case 5:return r.onload=t.sent,t.next=8,r.readAsArrayBuffer(this.file);case 8:case"end":return t.stop()}}),t,this)})),p=function(){var t=this,e=arguments;return new Promise((function(i,r){var n=d.apply(t,e);function a(t){l(n,i,r,a,s,"next",t)}function s(t){l(n,i,r,a,s,"throw",t)}a(void 0)}))},function(t){return p.apply(this,arguments)}),get_categori:function(){var t=this;this.axios.get("books/category",this.config).then((function(e){"/books"==window.location.pathname||"/books-list"==window.location.pathname?e.data.forEach((function(e){t.categori.push({id:e.id,description:e.description})})):t.categori=e.data}))},formatAsCurrency:function(t,e){return e=e||0,null===t?null:""+t.toFixed(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}}),mixins:[s.a,o.a],computed:{backgroundColor:function(){return"background-color:".concat(this.color)},harga_convert:{get:function(){return this.formatAsCurrency(this.harga,0)},set:function(t){this.harga=Number(t.replace(/[^0-9\.]/g,""))}}},created:function(){}}},341:function(t,e){},342:function(t,e){},343:function(t,e){},344:function(t,e){},345:function(t,e){},407:function(t,e,i){"use strict";i.r(e);var r=i(18),n=i.n(r);function a(t,e,i,r,n,a,s){try{var o=t[a](s),l=o.value}catch(t){return void i(t)}o.done?e(l):Promise.resolve(l).then(r,n)}var s,o,l={name:"book.create",mixins:[i(203).a],methods:{save:(s=n.a.mark((function t(){var e,i,r=this;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.totalPage=document.getElementById("dataPages").textContent,this.loading=!0,e="/"+(e=(e=window.location.pathname).split("/"))[1],(i=new FormData).append("judul",this.judul),i.append("penerbit",this.penerbit),i.append("file",this.file),i.append("kode",this.kode),i.append("harga",this.harga),i.append("id_categori",this.id_categori),i.append("pages",this.totalPage),i.append("deskripsi",JSON.stringify(this.deskripsi)),t.next=16,this.axios.post(e,i,this.config).then((function(t){r.setSnakbar({status:!0,pesan:t.data.message,color_snakbar:"success"}),r.$router.push(e)})).catch((function(t){400==t.response.status?r.setSnakbar({color_snakbar:"red",status:!0,pesan:t.response.data.message}):r.setSnakbar({status:!0,color_snakbar:"red",pesan:"Terjadi Kesalahan"}),console.log(t.response)}));case 16:this.loading=!1;case 17:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(i,r){var n=s.apply(t,e);function o(t){a(n,i,r,o,l,"next",t)}function l(t){a(n,i,r,o,l,"throw",t)}o(void 0)}))},function(){return o.apply(this,arguments)}),page:function(t){this.totalPage=t}},created:function(){this.get_categori()}},c=i(19),u=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-container",[i("BtnJudul",{attrs:{text:"Tambah Buku"}}),t._v(" "),i("v-card",{style:t.border,attrs:{tile:""}},[i("v-card-text",[i("v-container",[i("v-form",{ref:"form",attrs:{"lazy-validation":t.lazy},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("label",{attrs:{for:"",align:"left"}},[t._v("Buku Baru")]),t._v(" "),i("v-text-field",{attrs:{rules:t.nameRules,label:"Kode buku",required:""},model:{value:t.kode,callback:function(e){t.kode=e},expression:"kode"}}),t._v(" "),i("v-text-field",{attrs:{rules:t.nameRules,label:"Judul buku",required:""},model:{value:t.judul,callback:function(e){t.judul=e},expression:"judul"}}),t._v(" "),i("v-text-field",{attrs:{rules:t.nameRules,label:"Penerbit",required:""},model:{value:t.penerbit,callback:function(e){t.penerbit=e},expression:"penerbit"}}),t._v(" "),i("v-text-field",{attrs:{outlined:"",rules:t.hargaRules,label:"Harga",required:""},model:{value:t.harga_convert,callback:function(e){t.harga_convert=e},expression:"harga_convert"}}),t._v(" "),i("v-select",{attrs:{items:t.categori,rules:[function(t){return!!t||"Item is required"}],label:"Kategori","item-text":"description","item-value":"id",required:""},model:{value:t.id_categori,callback:function(e){t.id_categori=e},expression:"id_categori"}}),t._v(" "),i("p",{attrs:{id:"dataPages"}}),t._v(" "),i("input",{ref:"foto_profile",attrs:{type:"file",id:"foto_profile",accept:""},on:{change:t.eventChange}}),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),i("v-btn",{attrs:{color:"success",depressed:"",small:"",dark:""},on:{click:function(e){t.DataDialog=!0}}},[t._v("\n                                Tambah Deskripsi\n                    ")]),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),t.deskripsi.length>0?i("div",{staticClass:"tab-deskripsi"},[i("v-tabs",{attrs:{"background-color":t.color,dark:"","next-icon":"mdi-arrow-right-bold-box-outline","prev-icon":"mdi-arrow-left-bold-box-outline","show-arrows":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tabs-slider",{attrs:{color:"white"}}),t._v(" "),t._l(t.deskripsi,(function(e,r){return i("v-tab",{key:r},[t._v("\n                            "+t._s(e.title)+"\n                        ")])}))],2),t._v(" "),i("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.deskripsi,(function(e,r){return i("v-tab-item",{key:r},[i("v-card",[i("v-card-text",{staticStyle:{position:"relative"},domProps:{innerHTML:t._s(e.deskripsi)}}),t._v(" "),i("div",{staticStyle:{position:"absolute",top:"0px",right:"0px"}},[i("v-btn",{attrs:{depressed:"",dark:"","x-small":"",color:"success"},on:{click:function(e){return t.edit(r)}}},[i("v-icon",{attrs:{dark:"",small:""}},[t._v("fal fa-pencil")])],1),t._v(" "),i("v-btn",{attrs:{depressed:"",dark:"","x-small":"",color:"red"},on:{click:function(e){return t.hapus(r)}}},[i("v-icon",{attrs:{dark:"",small:""}},[t._v("fal fa-trash")])],1)],1)],1)],1)})),1)],1):t._e(),t._v(" "),i("v-row",[i("v-col",{attrs:{cols:"12",align:"right"}},[i("v-btn",{staticStyle:{color:"white !important"},attrs:{disabled:t.loading,color:"red",tile:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v("\n                            Batal\n                            ")]),t._v(" "),i("v-btn",{attrs:{disabled:!t.valid,color:"success",tile:"",loading:t.loading},on:{click:function(e){return t.save()}}},[t._v("\n                            Simpan\n                            ")])],1)],1)],1)],1)],1),t._v(" "),i("v-card-actions",{})],1)],1),t._v(" "),i("v-dialog",{attrs:{width:"650"},model:{value:t.DataDialog,callback:function(e){t.DataDialog=e},expression:"DataDialog"}},[i("v-card",{attrs:{tile:""}},[i("v-card-title",{staticClass:"white--text",style:t.backgroundColor,attrs:{"primary-title":""}},[t._v("\n      Tambah deskripsi\n    ")]),t._v(" "),i("v-card-text",[i("v-text-field",{attrs:{label:"Title",required:""},model:{value:t.deskrip.title,callback:function(e){t.$set(t.deskrip,"title",e)},expression:"deskrip.title"}}),t._v(" "),i("tiptap-vuetify",{attrs:{extensions:t.extensions},model:{value:t.deskrip.deskripsi,callback:function(e){t.$set(t.deskrip,"deskripsi",e)},expression:"deskrip.deskripsi"}})],1),t._v(" "),i("v-divider"),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{staticClass:"white--text",attrs:{color:"red",tile:""},on:{click:function(e){return t.cancle()}}},[t._v("\n        Cancel\n      ")]),t._v(" "),i("v-btn",{attrs:{color:"success",tile:""},on:{click:function(e){return t.tambah()}}},[t._v("\n        Save\n      ")])],1)],1)],1)],1)}),[],!1,null,"075c895b",null);e.default=u.exports}}]);